<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>SF-for Internet Distribution (SFID)</title>
<style>
  :root {
    --main-color: #007bff;
    --main-font: Arial;
  }
  body {
    font-family: var(--main-font);
    background-color: #fff;
    color: #000;
    transition: all 0.3s ease;
  }
  body.dark-theme {
    background-color: #222;
    color: #eee;
  }
  /* –û–±–æ–∏ */
  body {
    background-size: cover;
    background-position: center;
  }

  /* –°—Ç–∏–ª—å —Å—Ç—Ä–∞–Ω–∏—Ü */
.page {
  display: none;
  padding: 20px;
}
.page.active {
  display: block;
}
h2.page-title {
  margin-top: 20px;
}
.widgets-grid {
  display: flex;
  flex-wrap: wrap;
}
.widget {
  border: 1px solid var(--main-color);
  padding: 10px;
  margin: 5px;
  border-radius: 5px;
  background: rgba(255,255,255,0.1);
}
.widget-icon {
  font-size: 24px;
}
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #444;
  padding: 10px;
  color: #fff;
}
.menu-item {
  display: inline-block;
  padding: 5px 10px;
  cursor: pointer;
}
.menu-item.active {
  background: #666;
}
.content-wrapper {
  max-width: 1200px;
  margin: 0 auto;
}
.footer {
  margin-top: 20px;
  padding: 10px;
  background: #444;
  color: #fff;
  text-align: center;
}

/* –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
button {
  margin: 5px;
  padding: 8px 12px;
  cursor: pointer;
  background: var(--main-color);
  border: none;
  border-radius: 4px;
  color: #fff;
}
button:hover {
  opacity: 0.9;
}
input[type="color"], select, input[type="file"], input[type="text"], input[type="password"], input[type="datetime-local"], input[type="number"] {
  margin: 5px 0;
  padding: 5px;
}
</style>
</head>
<body>

<!-- –ê—É–¥–∏–æ –¥–ª—è —Ç–µ—Å—Ç–∞ -->
<audio id="connectSound" src="https://www.soundjay.com/buttons/sounds/button-3.mp3" preload="auto"></audio>
<audio id="errorSound" src="https://www.soundjay.com/buttons/sounds/button-10.mp3" preload="auto"></audio>
<audio id="buttonSound" src="https://www.soundjay.com/buttons/sounds/button-16.mp3" preload="auto"></audio>

<button id="testButton">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–≤—É–∫</button>

<!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
<div class="header">
  <div class="header-left">
    <div class="logo">
      <h2>SFID</h2>
      <span>v1.0.0</span>
    </div>
    <nav>
      <div class="menu-item active" data-page="dashboard">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
      <div class="menu-item" data-page="network">–°–µ—Ç—å</div>
      <div class="menu-item" data-page="wifi">Wi-Fi</div>
      <div class="menu-item" data-page="firewall">–ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä</div>
      <div class="menu-item" data-page="vpn">VPN</div>
      <div class="menu-item" data-page="qos">QoS</div>
      <div class="menu-item" data-page="nas">USB/NAS</div>
      <div class="menu-item" data-page="mobile">–ú–æ–±. —Å–µ—Ç–∏</div>
      <div class="menu-item" data-page="iot">IoT</div>
      <div class="menu-item" data-page="customization">–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è</div>
      <div class="menu-item" data-page="system">–°–∏—Å—Ç–µ–º–∞</div>
    </nav>
  </div>
  <div class="header-right">
    <div>–ì–æ—Å—Ç—å</div>
    <button id="themeToggle" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåô</button>
    <div id="notificationBell">üîî<span class="notification-count">3</span></div>
  </div>
</div>

<!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
<div class="content">
  <div class="content-wrapper">

    <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <div class="page active" id="dashboard">
      <h2 class="page-title">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è SFID</h2>
      <div class="widgets-grid">
        <div class="widget"><div class="widget-icon">üåê</div><div class="widget-content"><div class="widget-title">–°–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</div><div class="widget-value">–ê–∫—Ç–∏–≤–Ω–æ</div></div></div>
        <div class="widget"><div class="widget-icon">üì∂</div><div class="widget-content"><div class="widget-title">Wi-Fi —Å–µ—Ç—å</div><div class="widget-value">SFID-Network</div></div></div>
        <div class="widget"><div class="widget-icon">üõ°Ô∏è</div><div class="widget-content"><div class="widget-title">–ó–∞—â–∏—Ç–∞</div><div class="widget-value">–í–∫–ª—é—á–µ–Ω–∞</div></div></div>
        <div class="widget"><div class="widget-icon">‚ö°</div><div class="widget-content"><div class="widget-title">–°–∫–æ—Ä–æ—Å—Ç—å</div><div class="widget-value">100 –ú–±–∏—Ç/—Å</div></div></div>
        <div class="widget"><div class="widget-icon">üíæ</div><div class="widget-content"><div class="widget-title">–ü–∞–º—è—Ç—å</div><div class="widget-value">64%</div></div></div>
        <div class="widget"><div class="widget-icon">üì±</div><div class="widget-content"><div class="widget-title">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</div><div class="widget-value">8 –æ–Ω–ª–∞–π–Ω</div></div></div>
      </div>
    </div>

    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏ -->
    <div class="page" id="network">
      <h2 class="page-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏</h2>
      <div class="section">
        <h3>–û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
        <form id="networkForm">
          <label>–¢–∏–ø –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
            <select name="connection_type">
              <option value="dhcp">–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π IP (DHCP)</option>
              <option value="static">–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP</option>
            </select>
          </label><br>
          <label>IP-–∞–¥—Ä–µ—Å:
            <input type="text" name="ip_address" placeholder="192.168.1.2" />
          </label><br>
          <label>–ú–∞—Å–∫–∞ –ø–æ–¥—Å–µ—Ç–∏:
            <input type="text" name="subnet_mask" placeholder="255.255.255.0" />
          </label><br>
          <label>–®–ª—é–∑:
            <input type="text" name="gateway" placeholder="192.168.1.1" />
          </label><br>
          <label>DNS-—Å–µ—Ä–≤–µ—Ä—ã:
            <input type="text" name="dns" placeholder="8.8.8.8, 8.8.4.4" />
          </label><br>
          <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </form>
      </div>
    </div>

    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Wi-Fi -->
    <div class="page" id="wifi">
      <h2 class="page-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Wi-Fi</h2>
      <div class="section">
        <h3>–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
        <form id="wifiForm">
          <label>–ò–º—è —Å–µ—Ç–∏ (SSID):
            <input type="text" name="ssid" placeholder="–ú–æ—èWiFi" />
          </label><br>
          <label>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
            <select name="security">
              <option value="wpa2">WPA2</option>
              <option value="wpa3">WPA3</option>
              <option value="none">–ë–µ–∑ –∑–∞—â–∏—Ç—ã</option>
            </select>
          </label><br>
          <label>–ü–∞—Ä–æ–ª—å:
            <input type="password" name="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" />
          </label><br>
          <label>–ö–∞–Ω–∞–ª:
            <select name="channel">
              <option value="1">–ö–∞–Ω–∞–ª 1</option>
              <option value="6">–ö–∞–Ω–∞–ª 6</option>
              <option value="11">–ö–∞–Ω–∞–ª 11</option>
            </select>
          </label><br>
          <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </form>
      </div>
    </div>

    <!-- –ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä -->
    <div class="page" id="firewall">
      <h2 class="page-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞</h2>
      <div class="section">
        <h3>–ü—Ä–∞–≤–∏–ª–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</h3>
        <form>
          <h4>–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ</h4>
          <label>–¢–∏–ø:
            <select name="rule_type">
              <option value="allow">–†–∞–∑—Ä–µ—à–∏—Ç—å</option>
              <option value="deny">–ó–∞–ø—Ä–µ—Ç–∏—Ç—å</option>
            </select>
          </label><br>
          <label>–ü—Ä–æ—Ç–æ–∫–æ–ª:
            <select name="protocol">
              <option value="tcp">TCP</option>
              <option value="udp">UDP</option>
              <option value="both">–û–±–∞</option>
            </select>
          </label><br>
          <label>–ü–æ—Ä—Ç:
            <input type="number" name="port" placeholder="80" />
          </label><br>
          <label>IP-–∞–¥—Ä–µ—Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞:
            <input type="text" name="source_ip" placeholder="–õ—é–±–æ–π –∏–ª–∏ IP" />
          </label><br>
          <button type="button" id="addFirewallRule">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ</button>
        </form>
        <h4>–¢–µ–∫—É—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞</h4>
        <ul id="firewallRulesList"></ul>
      </div>
    </div>

    <!-- VPN -->
    <div class="page" id="vpn">
      <h2 class="page-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ VPN</h2>
      <div class="section">
        <button id="createVPN">–°–æ–∑–¥–∞—Ç—å VPN</button>
        <h4>–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</h4>
        <ul id="vpnList">
          <li>VPN 1 ‚Äî –°—Ç–∞—Ç—É—Å: –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</li>
          <li>VPN 2 ‚Äî –°—Ç–∞—Ç—É—Å: –æ—Ç–∫–ª—é—á–µ–Ω–æ</li>
        </ul>
      </div>
    </div>

    <!-- QoS -->
    <div class="page" id="qos">
      <h2 class="page-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ QoS</h2>
      <div class="section">
        <h3>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ç—Ä–∞—Ñ–∏–∫–∞</h3>
        <form id="qosForm">
          <label>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
            <input type="text" name="device_app" placeholder="Skype, –ò–≥—Ä–∞" />
          </label><br>
          <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
            <select name="priority">
              <option value="high">–í—ã—Å–æ–∫–∏–π</option>
              <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
              <option value="low">–ù–∏–∑–∫–∏–π</option>
            </select>
          </label><br>
          <button type="submit">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ</button>
        </form>
        <h4>–¢–µ–∫—É—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞</h4>
        <ul id="qosRules"></ul>
      </div>
    </div>

    <!-- USB/NAS -->
    <div class="page" id="nas">
      <h2 class="page-title">USB/NAS</h2>
      <div class="section">
        <button id="connectUSB">–ü–æ–¥–∫–ª—é—á–∏—Ç—å USB</button>
        <button id="configureNAS">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å NAS</button>
        <h4>–û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h4>
        <ul>
          <li>–ü–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: USB 1TB</li>
          <li>–û–±—â–∏–π –¥–æ—Å—Ç—É–ø: –í–∫–ª—é—á–µ–Ω</li>
        </ul>
      </div>
    </div>

    <!-- –ú–æ–±–∏–ª—å–Ω—ã–µ —Å–µ—Ç–∏ -->
    <div class="page" id="mobile">
      <h2 class="page-title">–ú–æ–±–∏–ª—å–Ω—ã–µ —Å–µ—Ç–∏</h2>
      <div class="section">
        <form id="mobileForm">
          <label>–°–ª–æ—Ç SIM:
            <select name="sim_slot">
              <option value="1">SIM 1</option>
              <option value="2">SIM 2</option>
            </select>
          </label><br>
          <label>APN:
            <input type="text" name="apn" placeholder="internet" />
          </label><br>
          <label>–¢–∏–ø —Å–µ—Ç–∏:
            <select name="network_type">
              <option value="3g">3G</option>
              <option value="4g">4G</option>
              <option value="5g">5G</option>
            </select>
          </label><br>
          <button type="submit">–ü–æ–¥–∫–ª—é—á–∏—Ç—å</button>
        </form>
      </div>
    </div>

    <!-- IoT -->
    <div class="page" id="iot">
      <h2 class="page-title">IoT</h2>
      <div class="section">
        <button id="addIoTDevice">–î–æ–±–∞–≤–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</button>
        <h4>–ü–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</h4>
        <ul>
          <li>–¢–µ—Ä–º–æ—Å—Ç–∞—Ç ‚Äî —Å—Ç–∞—Ç—É—Å: –∞–∫—Ç–∏–≤–µ–Ω</li>
          <li>–ó–∞–º–æ–∫ ‚Äî —Å—Ç–∞—Ç—É—Å: –∞–∫—Ç–∏–≤–µ–Ω</li>
        </ul>
      </div>
    </div>

    <!-- –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è -->
    <div class="page" id="customization">
      <h2 class="page-title">–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</h2>
      <div class="section">
        <h3>–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è</h3>
        <!-- –¶–≤–µ—Ç -->
        <label>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É (—Ü–≤–µ—Ç):</label>
        <select id="colorThemeSelect">
          <option value="#ffffff">–ë–µ–ª–∞—è (—Å–≤–µ—Ç–ª–∞—è)</option>
          <option value="#007bff">–°–∏–Ω—è—è</option>
          <option value="#222222">–¢–µ–º–Ω–∞—è</option>
          <option value="#28a745">–ó–µ–ª–µ–Ω–∞—è</option>
          <option value="#ff5733">–û—Ä–∞–Ω–∂–µ–≤–∞—è</option>
          <option value="#ffc107">–ñ–µ–ª—Ç–∞—è</option>
          <option value="#6f42c1">–ü—É—Ä–ø—É—Ä–Ω–∞—è</option>
        </select><br><br>
        <!-- –û–±–æ–∏ -->
        <label>–û–±–æ–∏ (—Ñ–æ—Ç–æ):</label>
        <input type="file" id="wallpaperUploader" accept="image/*" /><br><br>
        <!-- –ú—É–∑—ã–∫–∞ -->
        <label>–§–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞:</label>
        <input type="file" id="musicUploader" accept="audio/*" /><br><br>
        <!-- –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ -->
        <button id="playMusicBtn">‚ñ∂Ô∏è –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –º—É–∑—ã–∫—É</button>
        <button id="stopMusicBtn">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º—É–∑—ã–∫—É</button><br><br>
        <!-- –¶–≤–µ—Ç -->
        <label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞:</label>
        <input type="color" id="customColorScheme" value="#007bff" /><br><br>
        <!-- –®—Ä–∏—Ñ—Ç -->
        <label>–®—Ä–∏—Ñ—Ç:</label>
        <select id="customFontSelect">
          <option value="Arial">Arial</option>
          <option value="'Helvetica Neue', Helvetica">Helvetica Neue</option>
          <option value="'Times New Roman', serif">Times New Roman</option>
          <option value="'Courier New', monospace">Courier New</option>
          <option value="Georgia">Georgia</option>
        </select><br><br>
        <!-- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å -->
        <button id="saveCustomizationBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
      </div>
    </div>

    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã -->
    <div class="page" id="system">
      <h2 class="page-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h2>
      <div class="section">
        <h3>–û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
        <form>
          <button type="button">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</button>
          <button type="button">–û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É</button>
          <button type="button">–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
          <button type="button">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</button>
          <br><br>
          <label>–í—Ä–µ–º—è –∏ –¥–∞—Ç–∞:
            <input type="datetime-local" />
          </label><br><br>
          <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        </form>
      </div>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <div class="footer">
      <p>SF-for Internet Distribution (SFID) v1.0.0 | <a href="#" style="color:white;">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a></p>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div class="notification" id="notification" style="display:none; position:fixed; top:10px; right:10px; background:#333; color:#fff; padding:10px; border-radius:4px;"></div>
  </div>
</div>

<!-- –°–∫—Ä–∏–ø—Ç—ã -->
<script>
const notification = document.getElementById('notification');
function showNotification(text) {
  notification.innerText = text;
  notification.style.display = 'block';
  setTimeout(() => { notification.style.display = 'none'; }, 3000);
}

// –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫ –ø—Ä–∏ –∫–ª–∏–∫–µ
document.getElementById('testButton').addEventListener('click', () => {
  document.getElementById('buttonSound').play().catch(()=>{});
});
// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü
document.querySelectorAll('.menu-item').forEach(item => {
  item.addEventListener('click', () => {
    document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
    item.classList.add('active');
    const pageId = item.getAttribute('data-page');
    document.querySelectorAll('.page').forEach(p => {
      p.id === pageId ? p.classList.add('active') : p.classList.remove('active');
    });
    document.getElementById('buttonSound').play().catch(()=>{});
  });
});

// –õ–æ–≥–∏–∫–∞ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏
const themeToggleBtn = document.getElementById('themeToggle');
const body = document.body;

function saveSettings() {
  localStorage.setItem('theme', body.classList.contains('dark-theme') ? 'dark' : 'light');
  localStorage.setItem('color_scheme', document.querySelector('#customColorScheme').value);
  localStorage.setItem('font', document.querySelector('#customFontSelect').value);
  localStorage.setItem('bg_image', document.body.style.backgroundImage);
  localStorage.setItem('wallpaper', window._wallpaper || '');
  localStorage.setItem('music', window._music || '');
}

function loadSettings() {
  const theme = localStorage.getItem('theme');
  if (theme === 'dark') {
    body.classList.add('dark-theme');
  } else {
    body.classList.remove('dark-theme');
  }
  const color = localStorage.getItem('color_scheme');
  if (color) {
    document.querySelector('#customColorScheme').value = color;
    document.documentElement.style.setProperty('--main-color', color);
  }
  const font = localStorage.getItem('font');
  if (font) {
    document.querySelector('#customFontSelect').value = font;
    document.documentElement.style.setProperty('--main-font', font);
  }
  const bgImage = localStorage.getItem('bg_image');
  if (bgImage) {
    document.body.style.backgroundImage = bgImage;
  }
}
loadSettings();

// –¢–µ–º–∞
document.getElementById('themeToggle').addEventListener('click', () => {
  if (body.classList.contains('dark-theme')) {
    body.classList.remove('dark-theme');
    localStorage.setItem('theme', 'light');
  } else {
    body.classList.add('dark-theme');
    localStorage.setItem('theme', 'dark');
  }
  document.getElementById('buttonSound').play().catch(()=>{});
});

// –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –∏ —à—Ä–∏—Ñ—Ç
document.querySelector('#customColorScheme').addEventListener('input', e => {
  document.documentElement.style.setProperty('--main-color', e.target.value);
});
document.querySelector('#customFontSelect').addEventListener('change', e => {
  document.documentElement.style.setProperty('--main-font', e.target.value);
});

// –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
document.getElementById('saveCustomizationBtn').addEventListener('click', () => {
  saveSettings();
  alert('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
});

// =================== –í–õ–û–ñ–ï–ù–ù–´–ô –ö–õ–ê–°–° ===================
class SFID {
  constructor() {
    this._wallpaper = '';
    this._music = '';
    this._audio = null;
    // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ localStorage
    const wp = localStorage.getItem('wallpaper');
    if (wp) {
      this._wallpaper = wp;
      document.body.style.backgroundImage = `url(${this._wallpaper})`;
    }
    const ms = localStorage.getItem('music');
    if (ms) {
      this._music = ms;
      this.playMusic(this._music);
    }
  }

  setWallpaper(file) {
    const reader = new FileReader();
    reader.onload = () => {
      this._wallpaper = reader.result;
      localStorage.setItem('wallpaper', this._wallpaper);
      document.body.style.backgroundImage = `url(${this._wallpaper})`;
    };
    reader.readAsDataURL(file);
  }

  setMusic(file) {
    const reader = new FileReader();
    reader.onload = () => {
      this._music = reader.result;
      localStorage.setItem('music', this._music);
      this.playMusic(this._music);
    };
    reader.readAsDataURL(file);
  }

  playMusic(url) {
    if (this._audio) {
      this._audio.pause();
    }
    this._audio = new Audio(url);
    const vol = localStorage.getItem('volume') || '70';
    this._audio.volume = parseInt(vol) / 100;
    this._audio.loop = true;
    this._audio.play().catch(() => {
      alert('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –º—É–∑—ã–∫—É');
    });
  }

  stopMusic() {
    if (this._audio) {
      this._audio.pause();
      this._audio.currentTime = 0;
    }
  }
}
window.sfid = new SFID();

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
document.getElementById('wallpaperUploader').addEventListener('change', e => {
  if (e.target.files[0]) {
    window.sfid.setWallpaper(e.target.files[0]);
  }
});
document.getElementById('musicUploader').addEventListener('change', e => {
  if (e.target.files[0]) {
    window.sfid.setMusic(e.target.files[0]);
  }
});
document.getElementById('playMusicBtn').addEventListener('click', () => {
  if (window.sfid._music) {
    window.sfid.playMusic(window.sfid._music);
  }
});
document.getElementById('stopMusicBtn').addEventListener('click', () => {
  window.sfid.stopMusic();
});

// –¶–≤–µ—Ç –∏ —à—Ä–∏—Ñ—Ç
document.querySelector('#customColorScheme').addEventListener('input', e => {
  document.documentElement.style.setProperty('--main-color', e.target.value);
});
document.querySelector('#customFontSelect').addEventListener('change', e => {
  document.documentElement.style.setProperty('--main-font', e.target.value);
});
</script>
</body>
</html>
